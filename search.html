<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="stylesheet.css">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.js"></script> 

<title> Recommendations </title>
<script type="text/javascript" src="backend.js"></script>
</head>
<body>

<div class="navbar navbar-default navbar-static-top" id = "NavBar">
<ul>
	<li><a href="index.html" class="button"> HOME </a></li>
	<li><a href="search.html" class="button"> SEARCH </a></li>
</ul>
</div>

<h1> Search for what you want: </h1>
<center>
<div id="searchform">
  <input type="text" name="location" placeholder="Search.." id="userinput">
  <p/>
  <p/>
 <p/>
  <select name="price" id="price levels" > 
  	<option disabled selected value> Price Levels</option>
  	<option value="1" > $ </option>
  	<option value="2"> $$ </option>
  	<option value="3"> $$$ </option>
  	<option value="4"> $$$$ </option>
  </select>
  <p/>
  <input type="submit" class="button" value="Submit">
</div>
</center>

<div id="results">
<p id="check1"></p>
<p id="textresults"></p>
<img id="image" style="width:304px;height:228px;">
<p id="check2"></p>
<p id="check3"></p>
<p id="check4"></p>
<h2></h2>
</div>

<script type="text/javascript">

	$('#searchform').submit(function(){
    $.ajax({
    	data: $(this).serialize(),
       	type: 'POST',
       	url: "/search",
        success : function (response) {
           // $('#textresults').html(response);
            var data = response;
            process_results(data);
        }
    });
    return false;
});

//data should be JSON
function process_results(data){
	var obj = JSON.parse(data);
	document.getElementById("check2").innerHTML = "name " + obj.name;
	document.getElementById("check3").innerHTML = "rating " + obj.rating;
	document.getElementById("check4").innerHTML = "phone " + obj.phone;
  document.getElementById("image").src = obj.image_url;
}

</script>



</body>
</html>
